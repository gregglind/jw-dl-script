
<p><a href="https://codepen.io/gregglind/pen/porMJZz?editors=1000">Codepen Demo</a></p>

<ul>
    <li><a href="https://a.org/details/vermont0000kumm">Matching https://a.org/details/vermont0000kumm</a></li>
    <li><a href="https://example.com/details/jessamynwest0000unse_p2k4/page/n7/mode/2up">Matching 1:  https://example.com/details/jessamynwest0000unse_p2k4/page/n7/mode/2up</a></li>
    <li><a href="https://example.com/">Not matching</a></li>
    <li><a href="https://example.com/details/jessamynwest0000unse_p3424k34/page/n8/mode/13up"">Matching 2</a></li>
</ul>
<div id="main">
  <h1>Bookmarklet</h1>
  <p>
    Drag this button to your bookmarks bar to save it as a bookmarklet:
  </p>
       <p>
    <a style="display: inline-block; padding: .5em 1em; color: #fff; background: #50dcf3; border-radius: 4px; text-decoration: none;" href="javascript:(function()%7Bconst%20matchUrl%3Dfunction(e)%7Breturn%20new%20URL(e).pathname.match(%22%2Fdetails%2F%22)%7D%2Ctransform%3Dfunction(e)%7Bconsole.log(%22in%22%2Ce)%3Blet%20t%3Dnew%20URL(e)%2Cn%3Dt.pathname.split(%22%2F%22)%5B2%5D%3Breturn%20t.pathname%3D%22%2F%22%2B%5B%22download%22%2Cn%2Cn%2B%22.pdf%22%5D.join(%22%2F%22)%2Ct%3Dt.toString()%2Cconsole.log(t)%2Ct%7D%2CcreateDLButton%3Dfunction(e)%7Blet%20t%3Dnew%20URL(e)%3Bvar%20n%3Ddocument.createElement(%22a%22)%3Bn.textContent%3D%60%E2%AC%87%24%7Bt.pathname%7D%60%3Blet%20o%3D%7Bborder%3A%221px%20solid%20blue%22%2Cmargin%3A%220px%20.5em%22%2Cdisplay%3A%22inline-block%22%2Cpadding%3A%22.1em%20.2em%22%2Ccolor%3A%22%23fff%22%2Cbackground%3A%22%2350dcf3%22%2C%22border-radius%22%3A%224px%22%2C%22text-decoration%22%3A%22none%22%7D%3Bfor(const%20e%20in%20o)n.style%5Be%5D%3Do%5Be%5D%3Breturn%20n.href%3De%2Cn.download%3De%2Cn%7D%2CdoWork%3Dfunction()%7Bconsole.log(%22done!%22)%2Cdocument.querySelectorAll(%22a%22).forEach((function(e)%7Blet%20t%3De.href%3Bif(!matchUrl(t))return%3Blet%20n%3Dtransform(t)%2Co%3DcreateDLButton(n)%3Be.insertAdjacentElement(%22afterend%22%2Co)%7D))%7D%3Bconsole.log(%22done!%22)%2Cdocument.querySelectorAll(%22a%22).forEach((function(e)%7Blet%20t%3De.href%3Bif(!matchUrl(t))return%3Blet%20n%3Dtransform(t)%2Co%3DcreateDLButton(n)%3Be.insertAdjacentElement(%22afterend%22%2Co)%7D))%3B%7D)()">AO-DL</a>
  </p>
  
  <p class="dim">This page was created with the <a href="https://github.com/mrcoles/bookmarklet">bookmarklet</a> npm library.</p>

</div>

